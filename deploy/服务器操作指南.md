# 云服务器 Docker 操作指南

服务器地址：`59.110.55.185`
访问地址：`http://59.110.55.185:7860`

---

## 连接服务器

使用 Xshell 连接：
- 主机：59.110.55.185
- 端口：22
- 用户：root

---

## 日常操作命令

### 查看运行状态
```bash
docker ps
```

### 查看日志
```bash
docker logs pixel-art
```

### 停止应用
```bash
docker stop pixel-art
```

### 启动应用（已存在的容器）
```bash
docker start pixel-art
```

### 重启应用
```bash
docker restart pixel-art
```

---

## 更新代码（修改功能后）

本地修改代码并推送到 GitHub 后，在服务器执行：

```bash
cd ~/workspace/picture
git pull
docker stop pixel-art
docker rm pixel-art
docker build -t pixel-art -f deploy/Dockerfile .
docker run -d -p 7860:7860 --name pixel-art --restart unless-stopped pixel-art
```

---

## 彻底删除应用

```bash
docker stop pixel-art
docker rm pixel-art
docker rmi pixel-art
```

---

## 从零开始部署（首次或重新部署）

```bash
cd ~/workspace
git clone https://github.com/LPK3215/picture.git
cd picture
docker build -t pixel-art -f deploy/Dockerfile .
docker run -d -p 7860:7860 --name pixel-art --restart unless-stopped pixel-art
```

---

## 常见问题

### 端口被占用
```bash
docker ps -a
docker rm -f pixel-art
```

### 查看所有容器（包括停止的）
```bash
docker ps -a
```

### 查看镜像
```bash
docker images
```
